<html>
  <head>
    <meta charset="utf-8"/>
    <title>EATag</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <script src="/search.js" defer></script>
  </head>
  
  <body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
    <div>
      <p>
       <h1>EATag<br></h1>
       <h4>―食を豊かに―</h4>
      </p>
    </div>
  
    <div>
      <button id="toform" class="btn btn-primary" type="submit">入力ページ</button>
    </div>
    <div>
      <label for="exampleFormControlsearch">検索結果</label>
    </div><div class="form-group">
    <label for="exampleFormControlSelect1">条件</label>
    <select class="form-control" id="exampleFormControlSelect1">
      <option>1　主食</option>
      <option>2　おかず</option>
      <option>3　汁物</option>
      <option>4　おつまみ</option>
      <option>5　デザート</option>
      <option>6 レビュー高い順</option>
    </select>
  </div>
  <div>
      <button id="tosearch" class="btn btn-primary" type="submit">検索</button>
  </div>
  
  <div class="form-group">
   <label for="exampleFormControlSelect1">検索結果</label>
  <script>
  const result = document.getElementById('result'); // 操作する p 要素
        function findUsers() {
        const url = '/find'; // 通信先
        const req = new XMLHttpRequest(); // 通信用オブジェクト
        req.onreadystatechange = function(){
         if(req.readyState == 4 && req.status == 200) {
          const users = JSON.parse(req.response);   
          for(let i in users) {
          console.log(users[i].name, users[i].age);
          }
   
          forEach((user in users)=> { 
            <li>
            <div>
              <span>resulat.innerText=user.name</span>
              <span>result.innerText=innerText=user.age</span>
            </div>
           </li>  
          //const pName = document.createElement('p'); // p 要素
          //pName.innerText = users[i].name; // name の値を設定
          //result.appendChild(pName); // 情報表示部に追加
          }
         }
          };
        while(result.firstChild) result.removeChild(result.firstChild);
        req.open('GET', url, true);
        req.send();
        }
    </script>
   
      
  </body>
</html>
 

